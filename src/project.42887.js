window.__require=function t(e,i,o){function c(s,a){if(!i[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return c(e[s][1][t]||t)},p,p.exports,t,e,i,o)}return i[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<o.length;s++)c(o[s]);return c}({cow:[function(t,e,i){"use strict";cc._RF.push(e,"a871b+8p4tJyL0+OwU0oXif","cow");var o=cc.Class({name:"cowSkin",properties:{cowAnimate:{type:cc.SpriteFrame,default:[]}}});cc.Class({extends:cc.Component,properties:{cowSkinType:{type:o,default:[]}},onLoad:function(){this.cowType=Math.floor(3*Math.random()),this.cowShow=this.node.getComponent(cc.Sprite),this.cowSpeed=-(300*Math.random()+200),this.gameScene=cc.find("Canvas").getComponent("gameScene")},cowPlay:function(t){this.playTime+=t;var e=Math.floor(this.playTime/this.duration);e>=this.cowAniArray.length&&(e=0,this.playTime-=this.duration*this.cowAniArray.length),this.cowShow.spriteFrame=this.cowAniArray[e]},start:function(){this.duration=.2,this.playTime=0,this.cowAniArray=this.cowSkinType[this.cowType].cowAnimate},update:function(t){var e=this.cowSpeed*t;if(this.node.x+=e,this.node.x<-520)return this.removeFromCowGet(this.node),void this.node.removeFromParent();this.cowPlay(t)},removeFromCowGet:function(t){var e=this.gameScene.cowGet.indexOf(t);this.gameScene.cowGet.splice(e,1)}}),cc._RF.pop()},{}],gameScene:[function(t,e,i){"use strict";cc._RF.push(e,"65627BgJ1BF6opOXL1Ia+pk","gameScene");var o=["5\u5143\u5947\u6469\u8cfc\u7269\u62b5\u7528\u5238","\u725b\u725b\u5b78\u966220\u5143\u62b5\u7528\u5238","\u6eff10\u6e1b5\u6d3b\u52d5","\u8766\u76ae\u514d\u904b\u62b5\u7528\u5238","MOMO\u4e5d\u6298\u5238"];cc.Class({extends:cc.Component,properties:{cowPrefab:{type:cc.Prefab,default:null},cowNode:cc.Node},onLoad:function(){this.scoreVal=0,this.score=cc.find("Canvas/score/scoreVal").getComponent(cc.Label),this.timeVal=60,this.time=cc.find("Canvas/time/timeVal").getComponent(cc.Label),this.time.string=this.timeVal,this.check=cc.find("Canvas/check"),this.lastScore=cc.find("Canvas/check/scoreBoard/lastScore").getComponent(cc.Label),this.lastDesc=cc.find("Canvas/check/scoreBoard/desc").getComponent(cc.Label),this.cowPosition={x:520,y:-120},this.cowGet=[],this.isStart=!1,this.startGame(),cc.loader.loadRes("bgm",cc.AudioClip,function(t,e){cc.audioEngine.play(e,!0,.2)})},start:function(){this.node.getChildByName("rope").zIndex=1e3,this.node.getChildByName("startBtn").zIndex=2e3,this.check.zIndex=3e3},update:function(t){},countdown:function(){if(this.timeVal--,this.timeVal<0)return this.unscheduleAllCallbacks(),this.isStart=!1,this.lastDesc.string="\u606d\u559c\u7372\u5f97"+o[Math.floor(Math.random()*o.length)],void this.checkoutFn();this.time.string=this.timeVal.toString(),this.scheduleOnce(this.countdown.bind(this),1)},checkoutFn:function(){this.check.active=!0,this.lastScore.string=this.scoreVal.toString(),this.scheduleOnce(this.checkoutFn.bind(this),1)},startGame:function(){this.isStart||(this.isStart=!0,this.check.active=!1,this.scoreVal=0,this.score.string=this.scoreVal.toString(),this.timeVal=60,this.time=cc.find("Canvas/time/timeVal").getComponent(cc.Label),this.unscheduleAllCallbacks(),this.generatCow(),this.scheduleOnce(this.countdown.bind(this),1))},generatCow:function(){var t=cc.instantiate(this.cowPrefab);this.cowNode.addChild(t),t.active=!0,t.setPosition(this.cowPosition.x,this.cowPosition.y),this.cowGet.push(t);var e=3*Math.random()+2;this.scheduleOnce(this.generatCow.bind(this),e)},hitCow:function(){for(var t=-1,e=0;e<this.cowGet.length;e++)if(this.cowGet[e].x>=30&&this.cowGet[e].x<=230)return t=this.cowGet[e].getComponent("cow").cowType,this.cowGet[e].removeFromParent(),this.cowGet.splice(e,1),this.scoreVal++,this.score.string=this.scoreVal.toString(),cc.loader.loadRes("mou",cc.AudioClip,function(t,e){cc.audioEngine.play(e,!1,.3)}),t;return-1}}),cc._RF.pop()},{}],rope:[function(t,e,i){"use strict";cc._RF.push(e,"1a89dBeXJtFUIJDpxHkNcDD","rope"),cc.Class({extends:cc.Component,properties:{ropeEmpty:{type:cc.SpriteFrame,default:null},ropeCow:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.gameScene=cc.find("Canvas").getComponent("gameScene"),this.effect=this.node.getChildByName("effect").getComponent(cc.ParticleSystem),this.isShooting=!1,this.node.x=0,this.node.y=-550},setRopeEmpty:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.ropeEmpty},setRopeCow:function(t){t<0||t>2||(this.node.getComponent(cc.Sprite).spriteFrame=this.ropeCow[t])},stopEffect:function(){this.effect.stopSystem()},shootRopeOut:function(){var t=this;if(!this.isShooting){this.unschedule(this.stopEffect.bind(this)),this.isShooting=!0;var e=cc.moveTo(.5,0,-60),i=cc.callFunc(function(){var e=t.gameScene.hitCow();e>=0&&e<=2&&(t.node.y=42,t.effect.resetSystem(),t.scheduleOnce(t.stopEffect.bind(t),.05),t.setRopeCow(e))},this.node),o=cc.moveTo(.3,0,-560),c=cc.callFunc(function(){t.setRopeEmpty(),t.isShooting=!1},this.node),n=cc.sequence([e,i,o,c]);this.node.runAction(n),cc.loader.loadRes("start",cc.AudioClip,function(t,e){cc.audioEngine.play(e,!1,.2)})}},start:function(){this.stopEffect()}}),cc._RF.pop()},{}]},{},["cow","gameScene","rope"]);